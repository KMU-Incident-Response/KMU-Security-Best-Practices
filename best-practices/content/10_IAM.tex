\chapter{\acrfull{iam}}

\section{\acrshort{iam} Varianten}
Ein \acrfull{iam} ist ein zentrales System welches die Entitäten, wie Benutzeraccounts und Computer, erfassen kann. Zudem können Berechtigungen auf Entitäten in einer Domäne verwaltet.\\

%TODO: style correct @sevigrimm should use quote or some fancy style?
\textbf{Braucht es ein IAM?}\\
Es ist grundsätzlich möglich ohne ein IAM System zu arbeiten, wobei der Aufwand für das Management der Userverwaltung auf allen Maschinen schnell den Rahmen des Budgets sprengt.
Der allgemeine Konsenus ist, dass ab 15 aktiven Bentuzern ein IAM verwendet werden soll.\\

Eine IAM Lösung bringt viele Vorteile, gleichzeitig birgt es auch Risiken.\\

\begin{minipage}{\linewidth}
    \begin{multicols}{2}
        \begin{table}[H]
            \begin{center}
                \textbf{Vorteile:}
                \begin{itemize}
                    \item zentrales Accountmanagement
                    \item zentrales Accessmanagement
                    \item schnelle Skalierung Server/Client Umgebung
                    \item single Source of Truth\footnote{\href{https://de.wikipedia.org/wiki/Single\_Point\_of\_Truth}{https://de.wikipedia.org/wiki/Single\_Point\_of\_Truth}}
                    \item Policysystem zur Konfiguration von Client
                    \item meist gebündelt mit nützlichen Features\footnote{\acrshort{dhcp}, \acrshort{dns}, \acrshort{ntp}, \acrshort{ca} etc. (Produktabhängig)}
                    \item Single Sign-On
                \end{itemize}
            \end{center}
            \caption{Vorteile IAM}
        \end{table}
        \begin{table}[H]
            \begin{center}
                \textbf{Nachteile:}
                \begin{itemize}
                    \item hoher initial Aufwand
                    \item höchste Priorität eines Angreifers
                    \item anfällig auf Misskonfigurationen
                    \item abhängigkeit eines stabilen Systems
                \end{itemize}
            \end{center}
            \caption{Nachteile IAM}
        \end{table}
    \end{multicols}
\end{minipage}

\vspace{1cm}
Wie bei vielem ist es wichtig das richtige Produkt für seine Umgebung zu finden. Als nächstes werden zwei, im Markt beliebte Produkte vorgestellt.

\subsection{Active Directory}
Active Directory ist ein Produkt von Microsoft und kann exklusiv auf einem Microsoft Windows Server installiert werden. Active Directory ist einfach zu installieren, wobei die Konfiguration Herausforderungen mit sich bringen kann.\\

Active Directory ist mit mehr als 80\% Marktanteil der Marktführer. 
Das Produkt bietet alle grundlegenden Funktionen wie User-, Geräte- und Berechtigungsverwaltung.
Ausserdem lässt sich Active Directory integrieren mit anderen Windows Server Funktionen wie \acrshort{dhcp}, \acrshort{dns}, \acrshort{ntp} und weiteren externen Funktionen von anderen Anbietern. 
Vorallem in Windowsnetzwerken ist die Integration sehr gut und intuitiv.\\


Active Directory bietet in fast allen Fällen, was ein KMU braucht und viel mehr. Deshalb ist die Wahl von Active Directory für KMUs zu 99\% die richtige Wahle. Es gibt nur wenige sehr spezifische Fälle in denen ein anderes Produkt besseren Nutzen bringt. 


\subsection{FreeIPA}
FreeIPA ist eine Open-Source Implementation eines IAMs, entwickelt durch die Community und Upstream von Red Hat Identity Management. Exklusiv verfügbar auf RPM-basierten Linux Systemen.\\

FreeIPA bietet von den Features einen ähnlichen Umfang wie Active Directory, aber mit dem grossen Unterschied, dass die Hauptzielgruppe Linux Server und Clients sind. Es werden auch User-, Geräte- und Berechtigungsverwaltung, \acrshort{dhcp}, \acrshort{dns}, \acrshort{ntp} und viele weitere einfache, bis zu komplexe Funktionen angeboten.\\

FreeIPA ist eine gute Wahl in exklusiven Linuxnetzwerken. Für KMUs ist in den meisten Fällen FreeIPA die falsche Wahl und Active Directory sollte vorgezogen werden.


\section{Betreiben eines IAMs}
Das betreiben eines IAMs kann Herausforderungen bieten.
Es gibt viele Dinge zu beachten.
Das wichtigste ist es ein Verständnis zu erlangen wie kritisch das IAM System ist.
Ein Ausfall des IAM Systems kann das ganze Netzwerk beeinträchtigen und bewirken, dass das arbeiten für die ganze Firma schwerer, bis unmöglich wird.
Eine Misskonfiguration kann die Türe für einen Cybersecurityvorfall öffnen.
Das IAM ist oftmals das primäre Angriffsziel eines Angreifers, da ab diesem alle Systeme \& und deren Zugriff verwaltet wird.\\

Um die Angriffsfläche und somit das Risiko zu minimieren sollten die unten beschriebenen Konzepte beachtet und wenn möglich strikt implementiert werden.

\subsection{Least Privilege}
Das ``least privilege principle'' ist ein grundlegender Security Best Practice, denn man überall wieder findet.\\

Das Prinzip besagt jeder Benutzer soll genau soviel Rechte haben, wie er für seine tägliche Arbeit benötigt. Alles weitere soll blockiert werden.
Somit kann die Angriffsfläche bei Vorfällen massiv verringert werden.\\

Für privilegierte Benutzer wie z.B. ein Systemadministrator sollen zusätzliche, spezielle Accounts bereitgestellt werden.
Den die meiste Arbeit kann mit einem nicht privilegierten Nutzer verrichtet werden.\\

Zusätzlich soll auch beachtet werden, dasses keine ``Masteraccounts'' gibt, welche alle Rechte besitzen.
Den diese sind für Angreifer besonders interessant und für das Unternehmen gefährlich.


\subsection{persönliche Accounts}
Es muss versucht werden die Anzahl unpersönliche Accounts auf ein minimum beschränkt zu halten.
Bei einem Incident sind die Logs ausschlaggebend.\\

Arbeiten alle Benutzer mit dem Account ``Finanzen'' ist es schwer Rückschlüsse zu ziehen, wo kritische Aktionen oder ilegitime Zugriffe passiert sind.
In einem Vorfall wäre es klar, dass der Verstoss mit dem Account ``Finanzen'' passiert ist, aber welcher der 10 Personen die den Account benutzen den Verstoss begangen hat ist schwer, bis unmöglich Rückzuschliessen.

\subsection{Rollen als Berechtigungen}
Unternehmungen sind ermutigt Jobprofile zu erstellen, um geeignetes Personal zu finden.
Es ist ähnlich in der verteilung von Benutzerrechten.
Eine Person ist angestellt um eine bestimmte Arbeit zu verrichten.
Diese Zuteilung wird nun auf eine Rolle abgebildet.
Die Rolle mit den Rechten erhalten alle Angestellten mit dem gleichen Auftrag.
Oftmals werden Rollen in einem IAM Gruppen genannt, welcher man Benutzer und andere Gruppen hinzufügen kann.\\

Das verteilen von Rollen erleichtert den Überblick der einzelnen Berechtigungen in der Unternehmung.
Bei individual Berechtigungen verliert man schnell den Überblick.
Mit administrativen Wechseln wie interne Umorientierungen kann es dazu führen, dass Nutzer zu viele Berechtigungen für Ihren Job haben und somit das ``least privilege principle'' verletzen.
Mit Rollen kann bei internen Wechseln lediglich die alte Rolle entfernt und die neue Rolle hinzugefügt werden.


\subsection{Automatische Benutzerverwaltung}
Es ist empfohlen die Benutzerverwaltung zu automatisieren oder einen klaren Prozess festzulegen.
Dies betrifft vorallem die Benutzer, welche das Unternehmen verlassen.
Die Accounts sollten bei Austritt deaktiviert und später gelöscht werden.


\subsection{Zuständigkeitsbereich eines IAM}
Es kann eine Herausforderung entstehen, wenn man alle seine Geräte an das IAM anbinden will.\\

Im Idealfall sind alle Geräte an das IAM angebunden.
Es gibt aber auch Instanzen, in welchen diese Lösung schlicht weg nicht wirtschaftlich vertretbar ist.
Das geht in Ordnung.
Bei solchen Geräten sollte sich überlegt werden, wie sie adäquat geschützt werden können.

\section{IAM Schlusswort}
Ein IAM kann Agilität, Komfort und Sicherheit bringen.
Mit den Vorteilen bringt ein IAM auch Risiken, wie Sicherheitsbedenken und Abhängigkeit für den produktiven Betrieb.
Daher sollte ein IAM bestmöglich geschützt werden.
Editorberechtigung im IAM sollten nur Personen zustehen, welche diese auch wirklich brauchen (least privilege).

In den meisten Fällen ist ein IAM die beste Lösung.
Der grösste Teil der Vorfälle kann mit den Konzepten oben mitigiert oder sogar ganz vermieden werden.